{"version":3,"sources":["../node_modules/tslib/tslib.es6.js","../node_modules/style-value-types/dist/style-value-types.es.js","../node_modules/hey-listen/dist/hey-listen.es.js","../../../local/lib/node_modules/parcel-bundler/node_modules/process/browser.js","../node_modules/framesync/dist/framesync.es.js","../node_modules/@popmotion/easing/dist/easing.es.js","../node_modules/@popmotion/popcorn/dist/popcorn.es.js","../node_modules/stylefire/dist/stylefire.es.js","../node_modules/popmotion/dist/popmotion.es.js","useless.js","animation.js","../../../local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__createBinding","o","m","k","k2","undefined","__exportStar","exports","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","get","__classPrivateFieldSet","set","clamp","min","max","Math","sanitize","Number","toFixed","floatRegex","colorRegex","singleColorRegex","number","test","parse","parseFloat","transform","alpha","scale","createUnitType","unit","endsWith","split","degrees","percent","px","vh","vw","progressPercentage","getValueFromFunctionString","substring","lastIndexOf","clampRgbUnit","isRgba","red","isHsla","hue","getValuesAsArray","replace","splitColorValues","terms","values","valuesArray","rgbaTemplate","_a","green","blue","_b","hslaTemplate","saturation","lightness","rgbUnit","round","isColorString","color","colorType","startsWith","rgba","alpha$1","hsla","hex","substr","parseInt","COLOR_TOKEN","NUMBER_TOKEN","convertNumbersToZero","complex","isNaN","numValues","foundNumbers","match","foundColors","input","parsed","map","createTransformer","prop","template","token","numColors","numNumbers","output","getAnimatableNone","parsedTarget","targetTransformer","warning","invariant","check","message","console","warn","Error","process","module","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","args","Item","array","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","prevTime","onNextFrame","window","requestAnimationFrame","callback","timestamp","Date","now","timeToCall","createStep","setRunNextFrame","processToRun","processToRunNextFrame","numThisFrame","isProcessing","cancelled","WeakSet","toKeepAlive","renderStep","cancel","indexOfCallback","add","splice","frame","process_1","schedule","keepAlive","immediate","addToCurrentBuffer","buffer","delete","maxElapsed","defaultElapsed","useDefaultElapsed","willRunNextFrame","delta","stepsOrder","setWillRunNextFrame","willRun","steps","reduce","acc","sync","startLoop","cancelSync","processStep","stepId","processFrame","forEach","getFrameData","DEFAULT_OVERSHOOT_STRENGTH","reversed","easing","mirrored","createReversedEasing","createMirroredEasing","createExpoIn","power","pow","createBackIn","createAnticipateEasing","backEasing","linear","easeIn","easeOut","easeInOut","circIn","sin","acos","circOut","circInOut","backIn","backOut","backInOut","anticipate","BOUNCE_FIRST_THRESHOLD","BOUNCE_SECOND_THRESHOLD","BOUNCE_THIRD_THRESHOLD","ca","cb","cc","bounceOut","p2","bounceIn","bounceInOut","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","K_SPLINE_TABLE_SIZE","K_SAMPLE_STEP_SIZE","FLOAT_32_SUPPORTED","Float32Array","a1","a2","getSlope","calcBezier","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","binarySubdivide","aX","aA","aB","currentX","currentT","abs","newtonRaphsonIterate","aGuessT","currentSlope","calcSampleValues","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","resolver","returnValue","zeroPoint","x","z","isNum","radiansToDegrees","radians","PI","angle","atan2","applyOffset","from","to","hasReceivedFrom","curryRange","func","cv","clamp$1","conditional","degreesToRadians","isPoint","point","isPoint3D","distance1D","distance","xDelta","yDelta","zDelta","sqrt","progress","toFromDifference","mix","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","find","type","notAnimatable","color$$1","mixColor","fromColorType","toColorType","fromColor","toColor","blended","mixFunc","combineFunctions","pipe","transformers","_i","getMixer","origin","mixComplex","mixArray","slice","blendValue","fromThis","mixObject","analyse","numRGB","numHSL","originStats","targetStats","mixNumber","detectMixerFactory","isArray","createMixers","ease","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","fastInterpolate","slowInterpolate","inputLength","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","interpolate","_c","reverse","interpolator","pointFromVector","cos","toDecimal","num","precision","smoothFrame","prevValue","nextValue","duration","smoothing","smooth","strength","previousValue","lastUpdated","currentFramestamp","timeDelta","newValue","snap","points","i_1","numPoints_1","lastDistance","identity","springForce","alterDisplacement","constant","displacement","springModifiedDisplacement","springForceLinear","springForceExpo","velocityPerFrame","xps","frameDuration","velocityPerSecond","velocity","wrap","rangeSize","wrap$1","clampProgress","direction","expanded","rounded","floor","ceil","createStyler","onRead","onRender","uncachedValues","Set","useCache","props","state","changedValues","hasChanged","setValue","hasCSSVariable","currentValue","render","styler","forceRead","useCached","forceRender","CAMEL_CASE_PATTERN","REPLACE_TEMPLATE","camelToDash","str","toLowerCase","camelCache","Map","dashCache","prefixes","numPrefixes","isBrowser","document","testElement","setDashPrefix","prefixed","testPrefix","createElement","prefix","noPrefix","prefixedPropertyName","charAt","toUpperCase","style","setServerProperty","prefixer","asDashCase","cache","axes","order","transformProps","axesAcc","axesKey","transformPropDictionary","dict","isTransformProp","sortTransformProps","transformOriginProps","isTransformOriginProp","int","valueTypes","backgroundColor","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","size","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","translateX","translateY","translateZ","perspective","opacity","originX","originY","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","getValueType","getValueAsType","SCROLL_LEFT","SCROLL_TOP","scrollKeys","blacklist","translateAlias","isCustomTemplate","buildTransform","transformKeys","transformIsDefault","enableHardwareAcceleration","allowTransformNone","transformString","transformHasZ","sort","numTransformKeys","trim","buildStyleProperty","styles","transformOrigin","isDashCase","hasTransform","hasTransformOrigin","valueType","valueAsType","createStyleBuilder","_d","_e","options","element","preparseOutput","defaultValueType","domValue","getComputedStyle","getPropertyValue","buildStyles","numChangedValues","setProperty","cssStyler","createCssStyler","camelCaseAttributes","defaultOrigin","svgAttrsTemplate","progressToPixels","unmeasured","calcOrigin","offset","calculateSVGTransformOrigin","dimensions","svgStyleConfig","buildSVGAttrs","totalPathLength","cssBuilder","attrs","attrX","attrY","pathLength","pathSpacing","pathOffset","attrKey","createAttrBuilder","getDimensions","getBBox","getBoundingClientRect","getSVGElementDimensions","isPath","tagName","svgStyler","getAttribute","buildAttrs","setAttribute","svg","getTotalLength","viewport","pageYOffset","pageXOffset","scrollTop","scrollLeft","scrollTo","WeakMap","isHTMLElement","node","HTMLElement","click","isSVGElement","SVGElement","createDOMStyler","getStyler","index","nodeOrSelector","querySelector","Chainable","applyMiddleware","middleware","funcs","pipedUpdate","update","while","predicate","complete","filter","Observer","observer","_this","onComplete","isActive","updateObserver","err","createObserver","observerCandidate","Action","_super","start","isComplete","subscription","stop","init","observerProps","api","registerParent","action","BaseMulticast","subscribers","subscriber","subscribe","unsubscribe","parent","Multicast","multicast","stepProgress","segment","subsegment","percentProgressOfTarget","subsegmentProgressOfTarget","segmentProgressOfTarget","calc","freeze","dilate","getValueFromProgress","pointFromAngleAndDistance","getProgressFromValue","speedPerFrame","speedPerSecond","isValueList","isSingleValue","typeOfV","ValueReaction","scheduleVelocityCheck","postRender","velocityCheck","prev","current","updateCurrent","getVelocityOfCurrent","getSingleVelocity","getListVelocity","getMapVelocity","initialSubscription","getVelocity","sub","multi","getCount","getFirst","getOutput","mapApi","setProp","startActions","actions","numActions","updateOutput","numCompletedActions","subs","hasCompleted","keys","methodName","composite","propKey","starter","parallel","parallel$1","createVectorTests","typeTests","testNames","isVectorProp","getVectorKeys","vectorKeys","testVectorProps","some","unitTypes","findUnitType","isUnitProp","Boolean","createAction","reduceArrayValue","createArrayAction","firstVectorKey","actionList","childActionProps","getActionCreator","reduceObjectValue","createObjectAction","actionMap","createUnitAction","unitType","createMixerAction","createColorAction","createComplexAction","createVectorAction","vectorAction","isVector","testKey","testProp","decay","timeConstant","_f","restDelta","modifyTarget","elapsed","amplitude","idealTarget","frameDelta","exp","isMoving","vectorDecay","spring","stiffness","damping","_g","mass","_h","restSpeed","_j","initialVelocity","position","prevPosition","dampingRatio","angularFreq","envelope","expoDecay","isBelowVelocityThreshold","isBelowDisplacementThreshold","vectorSpring","inertia","bounceStiffness","bounceDamping","activeAnimation","isOutOfBounds","boundaryNearest","startAnimation","animation","startSpring","boundary_1","heading_1","initialTime","scrubber","reverseEase","seek","vectorScrubber","tween","flip","loop","yoyo","repeatDelay","_k","_l","flipCount","_m","yoyoCount","_o","loopCount","playhead","currentProgress","reverseAnimation","isTweenComplete","updateTween","startTimer","stopTimer","getElapsed","getProgress","pause","newProgress","clampProgress$1","defaultEasings","defaultTimings","interpolateScrubbers","scrubbers","rangeLength","finalInputIndex","finalScrubberIndex","scrub","keyframes","easings","times","tweenProps","physics","acceleration","friction","springStrength","distanceToTarget","setAcceleration","setFriction","setSpringStrength","setSpringTarget","setVelocity","vectorPhysics","DEFAULT_DURATION","flattenTimings","instructions","flatInstructions","lastArg","isStaggered","staggerDelay","segments","numSegments","item","flattenArrayInstructions","instruction","convertDefToProps","def","prevTimeTo","timeFrom","at","timeTo","timeline","calculatedDuration","animationDefs","tracks","numDefs","track","trackKeyframes","keyframeProps","listen","events","eventNames","eventName","addEventListener","removeEventListener","defaultPointerPos","clientX","clientY","pageX","pageY","eventToPoint","isTouchDevice","updatePointsLocation","touches","numTouches","thisTouch","passive","capture","multitouch","preventDefault","initialDistance","initialRotation","isGesture","firstTouch","secondTouch","updatePoint","newDistance","newRotation","onMove","updateOnMove","getIsTouchDevice","isMouseDevice","updatePointLocation","mouse","getFirstTouch","pointer","index$1","applyXOffset_1","applyYOffset_1","delta_1","chain","playCurrent","crossfade","balance","fadable","va","vb","setBalance","delay","timeToDelay","merge","thisAction","scheduler","schedulee","latest","schedulerSub","scheduleeSub","stagger","interval","intervalIsNumber","actionsWithDelay","appendUnit","st","transformMap","childTransformers","childTransformer","blendArray","blendColor","generateStaticSpring","nonlinearSpring","linearSpring","css","log","popmotion","ball","divStyler","ballXY","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","appendChild","getElementById","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","Function","deps","cached"],"mappings":"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","file":"animation.7bfd2d21.js","sourceRoot":"../popdemo","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { __assign } from 'tslib';\n\nvar clamp = function (min, max) { return function (v) {\r\n    return Math.max(Math.min(v, max), min);\r\n}; };\r\nvar sanitize = function (v) { return (v % 1 ? Number(v.toFixed(5)) : v); };\r\nvar floatRegex = /(-)?(\\d[\\d\\.]*)/g;\r\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))/gi;\r\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))$/i;\n\nvar number = {\r\n    test: function (v) { return typeof v === 'number'; },\r\n    parse: parseFloat,\r\n    transform: function (v) { return v; }\r\n};\r\nvar alpha = __assign(__assign({}, number), { transform: clamp(0, 1) });\r\nvar scale = __assign(__assign({}, number), { default: 1 });\n\nvar createUnitType = function (unit) { return ({\r\n    test: function (v) {\r\n        return typeof v === 'string' && v.endsWith(unit) && v.split(' ').length === 1;\r\n    },\r\n    parse: parseFloat,\r\n    transform: function (v) { return \"\" + v + unit; }\r\n}); };\r\nvar degrees = createUnitType('deg');\r\nvar percent = createUnitType('%');\r\nvar px = createUnitType('px');\r\nvar vh = createUnitType('vh');\r\nvar vw = createUnitType('vw');\r\nvar progressPercentage = __assign(__assign({}, percent), { parse: function (v) { return percent.parse(v) / 100; }, transform: function (v) { return percent.transform(v * 100); } });\n\nvar getValueFromFunctionString = function (value) {\r\n    return value.substring(value.indexOf('(') + 1, value.lastIndexOf(')'));\r\n};\r\nvar clampRgbUnit = clamp(0, 255);\r\nvar isRgba = function (v) { return v.red !== undefined; };\r\nvar isHsla = function (v) { return v.hue !== undefined; };\r\nfunction getValuesAsArray(value) {\r\n    return getValueFromFunctionString(value)\r\n        .replace(/(,|\\/)/g, ' ')\r\n        .split(/ \\s*/);\r\n}\r\nvar splitColorValues = function (terms) {\r\n    return function (v) {\r\n        if (typeof v !== 'string')\r\n            return v;\r\n        var values = {};\r\n        var valuesArray = getValuesAsArray(v);\r\n        for (var i = 0; i < 4; i++) {\r\n            values[terms[i]] =\r\n                valuesArray[i] !== undefined ? parseFloat(valuesArray[i]) : 1;\r\n        }\r\n        return values;\r\n    };\r\n};\r\nvar rgbaTemplate = function (_a) {\r\n    var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha = _b === void 0 ? 1 : _b;\r\n    return \"rgba(\" + red + \", \" + green + \", \" + blue + \", \" + alpha + \")\";\r\n};\r\nvar hslaTemplate = function (_a) {\r\n    var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha = _b === void 0 ? 1 : _b;\r\n    return \"hsla(\" + hue + \", \" + saturation + \", \" + lightness + \", \" + alpha + \")\";\r\n};\r\nvar rgbUnit = __assign(__assign({}, number), { transform: function (v) { return Math.round(clampRgbUnit(v)); } });\r\nfunction isColorString(color, colorType) {\r\n    return color.startsWith(colorType) && singleColorRegex.test(color);\r\n}\r\nvar rgba = {\r\n    test: function (v) { return (typeof v === 'string' ? isColorString(v, 'rgb') : isRgba(v)); },\r\n    parse: splitColorValues(['red', 'green', 'blue', 'alpha']),\r\n    transform: function (_a) {\r\n        var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha$1 = _b === void 0 ? 1 : _b;\r\n        return rgbaTemplate({\r\n            red: rgbUnit.transform(red),\r\n            green: rgbUnit.transform(green),\r\n            blue: rgbUnit.transform(blue),\r\n            alpha: sanitize(alpha.transform(alpha$1))\r\n        });\r\n    }\r\n};\r\nvar hsla = {\r\n    test: function (v) { return (typeof v === 'string' ? isColorString(v, 'hsl') : isHsla(v)); },\r\n    parse: splitColorValues(['hue', 'saturation', 'lightness', 'alpha']),\r\n    transform: function (_a) {\r\n        var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha$1 = _b === void 0 ? 1 : _b;\r\n        return hslaTemplate({\r\n            hue: Math.round(hue),\r\n            saturation: percent.transform(sanitize(saturation)),\r\n            lightness: percent.transform(sanitize(lightness)),\r\n            alpha: sanitize(alpha.transform(alpha$1))\r\n        });\r\n    }\r\n};\r\nvar hex = __assign(__assign({}, rgba), { test: function (v) { return typeof v === 'string' && isColorString(v, '#'); }, parse: function (v) {\r\n        var r = '';\r\n        var g = '';\r\n        var b = '';\r\n        if (v.length > 4) {\r\n            r = v.substr(1, 2);\r\n            g = v.substr(3, 2);\r\n            b = v.substr(5, 2);\r\n        }\r\n        else {\r\n            r = v.substr(1, 1);\r\n            g = v.substr(2, 1);\r\n            b = v.substr(3, 1);\r\n            r += r;\r\n            g += g;\r\n            b += b;\r\n        }\r\n        return {\r\n            red: parseInt(r, 16),\r\n            green: parseInt(g, 16),\r\n            blue: parseInt(b, 16),\r\n            alpha: 1\r\n        };\r\n    } });\r\nvar color = {\r\n    test: function (v) {\r\n        return (typeof v === 'string' && singleColorRegex.test(v)) ||\r\n            isRgba(v) ||\r\n            isHsla(v);\r\n    },\r\n    parse: function (v) {\r\n        if (rgba.test(v)) {\r\n            return rgba.parse(v);\r\n        }\r\n        else if (hsla.test(v)) {\r\n            return hsla.parse(v);\r\n        }\r\n        else if (hex.test(v)) {\r\n            return hex.parse(v);\r\n        }\r\n        return v;\r\n    },\r\n    transform: function (v) {\r\n        if (isRgba(v)) {\r\n            return rgba.transform(v);\r\n        }\r\n        else if (isHsla(v)) {\r\n            return hsla.transform(v);\r\n        }\r\n        return v;\r\n    }\r\n};\n\nvar COLOR_TOKEN = '${c}';\r\nvar NUMBER_TOKEN = '${n}';\r\nvar convertNumbersToZero = function (v) {\r\n    return typeof v === 'number' ? 0 : v;\r\n};\r\nvar complex = {\r\n    test: function (v) {\r\n        if (typeof v !== 'string' || !isNaN(v))\r\n            return false;\r\n        var numValues = 0;\r\n        var foundNumbers = v.match(floatRegex);\r\n        var foundColors = v.match(colorRegex);\r\n        if (foundNumbers)\r\n            numValues += foundNumbers.length;\r\n        if (foundColors)\r\n            numValues += foundColors.length;\r\n        return numValues > 0;\r\n    },\r\n    parse: function (v) {\r\n        var input = v;\r\n        var parsed = [];\r\n        var foundColors = input.match(colorRegex);\r\n        if (foundColors) {\r\n            input = input.replace(colorRegex, COLOR_TOKEN);\r\n            parsed.push.apply(parsed, foundColors.map(color.parse));\r\n        }\r\n        var foundNumbers = input.match(floatRegex);\r\n        if (foundNumbers) {\r\n            parsed.push.apply(parsed, foundNumbers.map(number.parse));\r\n        }\r\n        return parsed;\r\n    },\r\n    createTransformer: function (prop) {\r\n        var template = prop;\r\n        var token = 0;\r\n        var foundColors = prop.match(colorRegex);\r\n        var numColors = foundColors ? foundColors.length : 0;\r\n        if (foundColors) {\r\n            for (var i = 0; i < numColors; i++) {\r\n                template = template.replace(foundColors[i], COLOR_TOKEN);\r\n                token++;\r\n            }\r\n        }\r\n        var foundNumbers = template.match(floatRegex);\r\n        var numNumbers = foundNumbers ? foundNumbers.length : 0;\r\n        if (foundNumbers) {\r\n            for (var i = 0; i < numNumbers; i++) {\r\n                template = template.replace(foundNumbers[i], NUMBER_TOKEN);\r\n                token++;\r\n            }\r\n        }\r\n        return function (v) {\r\n            var output = template;\r\n            for (var i = 0; i < token; i++) {\r\n                output = output.replace(i < numColors ? COLOR_TOKEN : NUMBER_TOKEN, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\r\n            }\r\n            return output;\r\n        };\r\n    },\r\n    getAnimatableNone: function (target) {\r\n        var parsedTarget = complex.parse(target);\r\n        var targetTransformer = complex.createTransformer(target);\r\n        return targetTransformer(parsedTarget.map(convertNumbersToZero));\r\n    }\r\n};\n\nexport { alpha, color, complex, degrees, hex, hsla, number, percent, progressPercentage, px, rgbUnit, rgba, scale, vh, vw };\n","var warning = function () { };\r\nvar invariant = function () { };\r\nif (process.env.NODE_ENV !== 'production') {\r\n    warning = function (check, message) {\r\n        if (!check && typeof console !== 'undefined') {\r\n            console.warn(message);\r\n        }\r\n    };\r\n    invariant = function (check, message) {\r\n        if (!check) {\r\n            throw new Error(message);\r\n        }\r\n    };\r\n}\n\nexport { invariant, warning };\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { invariant } from 'hey-listen';\n\nvar prevTime = 0;\nvar onNextFrame = typeof window !== 'undefined' && window.requestAnimationFrame !== undefined ? function (callback) {\n    return window.requestAnimationFrame(callback);\n} : function (callback) {\n    var timestamp = Date.now();\n    var timeToCall = Math.max(0, 16.7 - (timestamp - prevTime));\n    prevTime = timestamp + timeToCall;\n    setTimeout(function () {\n        return callback(prevTime);\n    }, timeToCall);\n};\n\nvar createStep = function (setRunNextFrame) {\n    var processToRun = [];\n    var processToRunNextFrame = [];\n    var numThisFrame = 0;\n    var isProcessing = false;\n    var i = 0;\n    var cancelled = new WeakSet();\n    var toKeepAlive = new WeakSet();\n    var renderStep = {\n        cancel: function (process) {\n            var indexOfCallback = processToRunNextFrame.indexOf(process);\n            cancelled.add(process);\n            if (indexOfCallback !== -1) {\n                processToRunNextFrame.splice(indexOfCallback, 1);\n            }\n        },\n        process: function (frame) {\n            var _a;\n            isProcessing = true;\n            _a = [processToRunNextFrame, processToRun], processToRun = _a[0], processToRunNextFrame = _a[1];\n            processToRunNextFrame.length = 0;\n            numThisFrame = processToRun.length;\n            if (numThisFrame) {\n                var process_1;\n                for (i = 0; i < numThisFrame; i++) {\n                    process_1 = processToRun[i];\n                    process_1(frame);\n                    if (toKeepAlive.has(process_1) === true && !cancelled.has(process_1)) {\n                        renderStep.schedule(process_1);\n                        setRunNextFrame(true);\n                    }\n                }\n            }\n            isProcessing = false;\n        },\n        schedule: function (process, keepAlive, immediate) {\n            if (keepAlive === void 0) {\n                keepAlive = false;\n            }\n            if (immediate === void 0) {\n                immediate = false;\n            }\n            invariant(typeof process === \"function\", \"Argument must be a function\");\n            var addToCurrentBuffer = immediate && isProcessing;\n            var buffer = addToCurrentBuffer ? processToRun : processToRunNextFrame;\n            cancelled.delete(process);\n            if (keepAlive) toKeepAlive.add(process);\n            if (buffer.indexOf(process) === -1) {\n                buffer.push(process);\n                if (addToCurrentBuffer) numThisFrame = processToRun.length;\n            }\n        }\n    };\n    return renderStep;\n};\n\nvar maxElapsed = 40;\nvar defaultElapsed = 1 / 60 * 1000;\nvar useDefaultElapsed = true;\nvar willRunNextFrame = false;\nvar isProcessing = false;\nvar frame = {\n    delta: 0,\n    timestamp: 0\n};\nvar stepsOrder = [\"read\", \"update\", \"preRender\", \"render\", \"postRender\"];\nvar setWillRunNextFrame = function (willRun) {\n    return willRunNextFrame = willRun;\n};\nvar steps = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    acc[key] = createStep(setWillRunNextFrame);\n    return acc;\n}, {});\nvar sync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    var step = steps[key];\n    acc[key] = function (process, keepAlive, immediate) {\n        if (keepAlive === void 0) {\n            keepAlive = false;\n        }\n        if (immediate === void 0) {\n            immediate = false;\n        }\n        if (!willRunNextFrame) startLoop();\n        step.schedule(process, keepAlive, immediate);\n        return process;\n    };\n    return acc;\n}, {});\nvar cancelSync = /*#__PURE__*/stepsOrder.reduce(function (acc, key) {\n    acc[key] = steps[key].cancel;\n    return acc;\n}, {});\nvar processStep = function (stepId) {\n    return steps[stepId].process(frame);\n};\nvar processFrame = function (timestamp) {\n    willRunNextFrame = false;\n    frame.delta = useDefaultElapsed ? defaultElapsed : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n    if (!useDefaultElapsed) defaultElapsed = frame.delta;\n    frame.timestamp = timestamp;\n    isProcessing = true;\n    stepsOrder.forEach(processStep);\n    isProcessing = false;\n    if (willRunNextFrame) {\n        useDefaultElapsed = false;\n        onNextFrame(processFrame);\n    }\n};\nvar startLoop = function () {\n    willRunNextFrame = true;\n    useDefaultElapsed = true;\n    if (!isProcessing) onNextFrame(processFrame);\n};\nvar getFrameData = function () {\n    return frame;\n};\n\nexport default sync;\nexport { cancelSync, getFrameData };\n","var DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar reversed = function (easing) {\n    return function (p) {\n        return 1 - easing(1 - p);\n    };\n};\nvar mirrored = function (easing) {\n    return function (p) {\n        return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n    };\n};\nvar createReversedEasing = reversed;\nvar createMirroredEasing = mirrored;\nvar createExpoIn = function (power) {\n    return function (p) {\n        return Math.pow(p, power);\n    };\n};\nvar createBackIn = function (power) {\n    return function (p) {\n        return p * p * ((power + 1) * p - power);\n    };\n};\nvar createAnticipateEasing = function (power) {\n    var backEasing = createBackIn(power);\n    return function (p) {\n        return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n    };\n};\nvar linear = function (p) {\n    return p;\n};\nvar easeIn = /*#__PURE__*/createExpoIn(2);\nvar easeOut = /*#__PURE__*/reversed(easeIn);\nvar easeInOut = /*#__PURE__*/mirrored(easeIn);\nvar circIn = function (p) {\n    return 1 - Math.sin(Math.acos(p));\n};\nvar circOut = /*#__PURE__*/reversed(circIn);\nvar circInOut = /*#__PURE__*/mirrored(circOut);\nvar backIn = /*#__PURE__*/createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = /*#__PURE__*/reversed(backIn);\nvar backInOut = /*#__PURE__*/mirrored(backIn);\nvar anticipate = /*#__PURE__*/createAnticipateEasing(DEFAULT_OVERSHOOT_STRENGTH);\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\nvar bounceOut = function (p) {\n    var p2 = p * p;\n    return p < BOUNCE_FIRST_THRESHOLD ? 7.5625 * p2 : p < BOUNCE_SECOND_THRESHOLD ? 9.075 * p2 - 9.9 * p + 3.4 : p < BOUNCE_THIRD_THRESHOLD ? ca * p2 - cb * p + cc : 10.8 * p * p - 20.52 * p + 10.72;\n};\nvar bounceIn = function (p) {\n    return 1.0 - bounceOut(1.0 - p);\n};\nvar bounceInOut = function (p) {\n    return p < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0)) : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\nvar NEWTON_ITERATIONS = 8;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar K_SPLINE_TABLE_SIZE = 11;\nvar K_SAMPLE_STEP_SIZE = 1.0 / (K_SPLINE_TABLE_SIZE - 1.0);\nvar FLOAT_32_SUPPORTED = typeof Float32Array !== 'undefined';\nvar a = function (a1, a2) {\n    return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\nvar b = function (a1, a2) {\n    return 3.0 * a2 - 6.0 * a1;\n};\nvar c = function (a1) {\n    return 3.0 * a1;\n};\nvar getSlope = function (t, a1, a2) {\n    return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar calcBezier = function (t, a1, a2) {\n    return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    var sampleValues = FLOAT_32_SUPPORTED ? new Float32Array(K_SPLINE_TABLE_SIZE) : new Array(K_SPLINE_TABLE_SIZE);\n    var binarySubdivide = function (aX, aA, aB) {\n        var i = 0;\n        var currentX;\n        var currentT;\n        do {\n            currentT = aA + (aB - aA) / 2.0;\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\n            if (currentX > 0.0) {\n                aB = currentT;\n            } else {\n                aA = currentT;\n            }\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n        return currentT;\n    };\n    var newtonRaphsonIterate = function (aX, aGuessT) {\n        var i = 0;\n        var currentSlope = 0;\n        var currentX;\n        for (; i < NEWTON_ITERATIONS; ++i) {\n            currentSlope = getSlope(aGuessT, mX1, mX2);\n            if (currentSlope === 0.0) {\n                return aGuessT;\n            }\n            currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n            aGuessT -= currentX / currentSlope;\n        }\n        return aGuessT;\n    };\n    var calcSampleValues = function () {\n        for (var i = 0; i < K_SPLINE_TABLE_SIZE; ++i) {\n            sampleValues[i] = calcBezier(i * K_SAMPLE_STEP_SIZE, mX1, mX2);\n        }\n    };\n    var getTForX = function (aX) {\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = K_SPLINE_TABLE_SIZE - 1;\n        var dist = 0.0;\n        var guessForT = 0.0;\n        var initialSlope = 0.0;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += K_SAMPLE_STEP_SIZE;\n        }\n        --currentSample;\n        dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        guessForT = intervalStart + dist * K_SAMPLE_STEP_SIZE;\n        initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n            return newtonRaphsonIterate(aX, guessForT);\n        } else if (initialSlope === 0.0) {\n            return guessForT;\n        } else {\n            return binarySubdivide(aX, intervalStart, intervalStart + K_SAMPLE_STEP_SIZE);\n        }\n    };\n    calcSampleValues();\n    var resolver = function (aX) {\n        var returnValue;\n        if (mX1 === mY1 && mX2 === mY2) {\n            returnValue = aX;\n        } else if (aX === 0) {\n            returnValue = 0;\n        } else if (aX === 1) {\n            returnValue = 1;\n        } else {\n            returnValue = calcBezier(getTForX(aX), mY1, mY2);\n        }\n        return returnValue;\n    };\n    return resolver;\n}\n\nexport { reversed, mirrored, createReversedEasing, createMirroredEasing, createExpoIn, createBackIn, createAnticipateEasing, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, bounceOut, bounceIn, bounceInOut, cubicBezier };\n","import { hsla, rgba, hex, color, complex } from 'style-value-types';\nimport { invariant } from 'hey-listen';\nimport { getFrameData } from 'framesync';\nimport { createAnticipateEasing, createBackIn, createExpoIn, cubicBezier, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, reversed, mirrored } from '@popmotion/easing';\nexport { createAnticipateEasing, createBackIn, createExpoIn, cubicBezier, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, reversed, mirrored } from '@popmotion/easing';\n\nvar zeroPoint = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0\r\n};\r\nvar isNum = function (v) { return typeof v === 'number'; };\n\nvar radiansToDegrees = (function (radians) { return (radians * 180) / Math.PI; });\n\nvar angle = (function (a, b) {\r\n    if (b === void 0) { b = zeroPoint; }\r\n    return radiansToDegrees(Math.atan2(b.y - a.y, b.x - a.x));\r\n});\n\nvar applyOffset = (function (from, to) {\r\n    var hasReceivedFrom = true;\r\n    if (to === undefined) {\r\n        to = from;\r\n        hasReceivedFrom = false;\r\n    }\r\n    return function (v) {\r\n        if (hasReceivedFrom) {\r\n            return v - from + to;\r\n        }\r\n        else {\r\n            from = v;\r\n            hasReceivedFrom = true;\r\n            return to;\r\n        }\r\n    };\r\n});\n\nvar curryRange = (function (func) { return function (min, max, v) { return (v !== undefined ? func(min, max, v) : function (cv) { return func(min, max, cv); }); }; });\n\nvar clamp = function (min, max, v) {\r\n    return Math.min(Math.max(v, min), max);\r\n};\r\nvar clamp$1 = curryRange(clamp);\n\nvar conditional = (function (check, apply) { return function (v) {\r\n    return check(v) ? apply(v) : v;\r\n}; });\n\nvar degreesToRadians = (function (degrees) { return (degrees * Math.PI) / 180; });\n\nvar isPoint = (function (point) {\r\n    return point.hasOwnProperty('x') && point.hasOwnProperty('y');\r\n});\n\nvar isPoint3D = (function (point) {\r\n    return isPoint(point) && point.hasOwnProperty('z');\r\n});\n\nvar distance1D = function (a, b) { return Math.abs(a - b); };\r\nvar distance = (function (a, b) {\r\n    if (b === void 0) { b = zeroPoint; }\r\n    if (isNum(a) && isNum(b)) {\r\n        return distance1D(a, b);\r\n    }\r\n    else if (isPoint(a) && isPoint(b)) {\r\n        var xDelta = distance1D(a.x, b.x);\r\n        var yDelta = distance1D(a.y, b.y);\r\n        var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\r\n        return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\r\n    }\r\n    return 0;\r\n});\n\nvar progress = (function (from, to, value) {\r\n    var toFromDifference = to - from;\r\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\r\n});\n\nvar mix = (function (from, to, progress) {\r\n    return -progress * from + progress * to + from;\r\n});\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar mixLinearColor = function (from, to, v) {\r\n    var fromExpo = from * from;\r\n    var toExpo = to * to;\r\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\r\n};\r\nvar colorTypes = [hex, rgba, hsla];\r\nvar getColorType = function (v) {\r\n    return colorTypes.find(function (type) { return type.test(v); });\r\n};\r\nvar notAnimatable = function (color$$1) {\r\n    return \"'\" + color$$1 + \"' is not an animatable color. Use the equivalent color code instead.\";\r\n};\r\nvar mixColor = (function (from, to) {\r\n    var fromColorType = getColorType(from);\r\n    var toColorType = getColorType(to);\r\n    invariant(!!fromColorType, notAnimatable(from));\r\n    invariant(!!toColorType, notAnimatable(to));\r\n    invariant(fromColorType.transform === toColorType.transform, 'Both colors must be hex/RGBA, OR both must be HSLA.');\r\n    var fromColor = fromColorType.parse(from);\r\n    var toColor = toColorType.parse(to);\r\n    var blended = __assign({}, fromColor);\r\n    var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\r\n    return function (v) {\r\n        for (var key in blended) {\r\n            if (key !== 'alpha') {\r\n                blended[key] = mixFunc(fromColor[key], toColor[key], v);\r\n            }\r\n        }\r\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\r\n        return fromColorType.transform(blended);\r\n    };\r\n});\n\nvar combineFunctions = function (a, b) { return function (v) { return b(a(v)); }; };\r\nvar pipe = (function () {\r\n    var transformers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        transformers[_i] = arguments[_i];\r\n    }\r\n    return transformers.reduce(combineFunctions);\r\n});\n\nfunction getMixer(origin, target) {\r\n    if (isNum(origin)) {\r\n        return function (v) { return mix(origin, target, v); };\r\n    }\r\n    else if (color.test(origin)) {\r\n        return mixColor(origin, target);\r\n    }\r\n    else {\r\n        return mixComplex(origin, target);\r\n    }\r\n}\r\nvar mixArray = function (from, to) {\r\n    var output = from.slice();\r\n    var numValues = output.length;\r\n    var blendValue = from.map(function (fromThis, i) { return getMixer(fromThis, to[i]); });\r\n    return function (v) {\r\n        for (var i = 0; i < numValues; i++) {\r\n            output[i] = blendValue[i](v);\r\n        }\r\n        return output;\r\n    };\r\n};\r\nvar mixObject = function (origin, target) {\r\n    var output = __assign({}, origin, target);\r\n    var blendValue = {};\r\n    for (var key in output) {\r\n        if (origin[key] !== undefined && target[key] !== undefined) {\r\n            blendValue[key] = getMixer(origin[key], target[key]);\r\n        }\r\n    }\r\n    return function (v) {\r\n        for (var key in blendValue) {\r\n            output[key] = blendValue[key](v);\r\n        }\r\n        return output;\r\n    };\r\n};\r\nfunction analyse(value) {\r\n    var parsed = complex.parse(value);\r\n    var numValues = parsed.length;\r\n    var numNumbers = 0;\r\n    var numRGB = 0;\r\n    var numHSL = 0;\r\n    for (var i = 0; i < numValues; i++) {\r\n        if (numNumbers || typeof parsed[i] === 'number') {\r\n            numNumbers++;\r\n        }\r\n        else {\r\n            if (parsed[i].hue !== undefined) {\r\n                numHSL++;\r\n            }\r\n            else {\r\n                numRGB++;\r\n            }\r\n        }\r\n    }\r\n    return { parsed: parsed, numNumbers: numNumbers, numRGB: numRGB, numHSL: numHSL };\r\n}\r\nvar mixComplex = function (origin, target) {\r\n    var template = complex.createTransformer(target);\r\n    var originStats = analyse(origin);\r\n    var targetStats = analyse(target);\r\n    invariant(originStats.numHSL === targetStats.numHSL &&\r\n        originStats.numRGB === targetStats.numRGB &&\r\n        originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\r\n    return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\r\n};\n\nvar mixNumber = function (from, to) { return function (p) { return mix(from, to, p); }; };\r\nfunction detectMixerFactory(v) {\r\n    if (typeof v === 'number') {\r\n        return mixNumber;\r\n    }\r\n    else if (typeof v === 'string') {\r\n        if (color.test(v)) {\r\n            return mixColor;\r\n        }\r\n        else {\r\n            return mixComplex;\r\n        }\r\n    }\r\n    else if (Array.isArray(v)) {\r\n        return mixArray;\r\n    }\r\n    else if (typeof v === 'object') {\r\n        return mixObject;\r\n    }\r\n}\r\nfunction createMixers(output, ease, customMixer) {\r\n    var mixers = [];\r\n    var mixerFactory = customMixer || detectMixerFactory(output[0]);\r\n    var numMixers = output.length - 1;\r\n    for (var i = 0; i < numMixers; i++) {\r\n        var mixer = mixerFactory(output[i], output[i + 1]);\r\n        if (ease) {\r\n            var easingFunction = Array.isArray(ease) ? ease[i] : ease;\r\n            mixer = pipe(easingFunction, mixer);\r\n        }\r\n        mixers.push(mixer);\r\n    }\r\n    return mixers;\r\n}\r\nfunction fastInterpolate(_a, _b) {\r\n    var from = _a[0], to = _a[1];\r\n    var mixer = _b[0];\r\n    return function (v) { return mixer(progress(from, to, v)); };\r\n}\r\nfunction slowInterpolate(input, mixers) {\r\n    var inputLength = input.length;\r\n    var lastInputIndex = inputLength - 1;\r\n    return function (v) {\r\n        var mixerIndex = 0;\r\n        var foundMixerIndex = false;\r\n        if (v <= input[0]) {\r\n            foundMixerIndex = true;\r\n        }\r\n        else if (v >= input[lastInputIndex]) {\r\n            mixerIndex = lastInputIndex - 1;\r\n            foundMixerIndex = true;\r\n        }\r\n        if (!foundMixerIndex) {\r\n            var i = 1;\r\n            for (; i < inputLength; i++) {\r\n                if (input[i] > v || i === lastInputIndex) {\r\n                    break;\r\n                }\r\n            }\r\n            mixerIndex = i - 1;\r\n        }\r\n        var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\r\n        return mixers[mixerIndex](progressInRange);\r\n    };\r\n}\r\nfunction interpolate(input, output, _a) {\r\n    var _b = _a === void 0 ? {} : _a, _c = _b.clamp, clamp = _c === void 0 ? true : _c, ease = _b.ease, mixer = _b.mixer;\r\n    var inputLength = input.length;\r\n    invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\r\n    invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\r\n    if (input[0] > input[inputLength - 1]) {\r\n        input = [].concat(input);\r\n        output = [].concat(output);\r\n        input.reverse();\r\n        output.reverse();\r\n    }\r\n    var mixers = createMixers(output, ease, mixer);\r\n    var interpolator = inputLength === 2\r\n        ? fastInterpolate(input, mixers)\r\n        : slowInterpolate(input, mixers);\r\n    return clamp\r\n        ? pipe(clamp$1(input[0], input[inputLength - 1]), interpolator)\r\n        : interpolator;\r\n}\n\nvar pointFromVector = (function (origin, angle, distance) {\r\n    angle = degreesToRadians(angle);\r\n    return {\r\n        x: distance * Math.cos(angle) + origin.x,\r\n        y: distance * Math.sin(angle) + origin.y\r\n    };\r\n});\n\nvar toDecimal = (function (num, precision) {\r\n    if (precision === void 0) { precision = 2; }\r\n    precision = Math.pow(10, precision);\r\n    return Math.round(num * precision) / precision;\r\n});\n\nvar smoothFrame = (function (prevValue, nextValue, duration, smoothing) {\r\n    if (smoothing === void 0) { smoothing = 0; }\r\n    return toDecimal(prevValue +\r\n        (duration * (nextValue - prevValue)) / Math.max(smoothing, duration));\r\n});\n\nvar smooth = (function (strength) {\r\n    if (strength === void 0) { strength = 50; }\r\n    var previousValue = 0;\r\n    var lastUpdated = 0;\r\n    return function (v) {\r\n        var currentFramestamp = getFrameData().timestamp;\r\n        var timeDelta = currentFramestamp !== lastUpdated ? currentFramestamp - lastUpdated : 0;\r\n        var newValue = timeDelta\r\n            ? smoothFrame(previousValue, v, timeDelta, strength)\r\n            : previousValue;\r\n        lastUpdated = currentFramestamp;\r\n        previousValue = newValue;\r\n        return newValue;\r\n    };\r\n});\n\nvar snap = (function (points) {\r\n    if (typeof points === 'number') {\r\n        return function (v) { return Math.round(v / points) * points; };\r\n    }\r\n    else {\r\n        var i_1 = 0;\r\n        var numPoints_1 = points.length;\r\n        return function (v) {\r\n            var lastDistance = Math.abs(points[0] - v);\r\n            for (i_1 = 1; i_1 < numPoints_1; i_1++) {\r\n                var point = points[i_1];\r\n                var distance = Math.abs(point - v);\r\n                if (distance === 0)\r\n                    return point;\r\n                if (distance > lastDistance)\r\n                    return points[i_1 - 1];\r\n                if (i_1 === numPoints_1 - 1)\r\n                    return point;\r\n                lastDistance = distance;\r\n            }\r\n        };\r\n    }\r\n});\n\nvar identity = function (v) { return v; };\r\nvar springForce = function (alterDisplacement) {\r\n    if (alterDisplacement === void 0) { alterDisplacement = identity; }\r\n    return curryRange(function (constant, origin, v) {\r\n        var displacement = origin - v;\r\n        var springModifiedDisplacement = -(0 - constant + 1) * (0 - alterDisplacement(Math.abs(displacement)));\r\n        return displacement <= 0\r\n            ? origin + springModifiedDisplacement\r\n            : origin - springModifiedDisplacement;\r\n    });\r\n};\r\nvar springForceLinear = springForce();\r\nvar springForceExpo = springForce(Math.sqrt);\n\nvar velocityPerFrame = (function (xps, frameDuration) {\r\n    return isNum(xps) ? xps / (1000 / frameDuration) : 0;\r\n});\n\nvar velocityPerSecond = (function (velocity, frameDuration) {\r\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\r\n});\n\nvar wrap = function (min, max, v) {\r\n    var rangeSize = max - min;\r\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\r\n};\r\nvar wrap$1 = curryRange(wrap);\n\nvar clampProgress = clamp$1(0, 1);\r\nvar steps = (function (steps, direction) {\r\n    if (direction === void 0) { direction = 'end'; }\r\n    return function (progress) {\r\n        progress =\r\n            direction === 'end' ? Math.min(progress, 0.999) : Math.max(progress, 0.001);\r\n        var expanded = progress * steps;\r\n        var rounded = direction === 'end' ? Math.floor(expanded) : Math.ceil(expanded);\r\n        return clampProgress(rounded / steps);\r\n    };\r\n});\n\nexport { angle, applyOffset, clamp$1 as clamp, conditional, degreesToRadians, distance, interpolate, isPoint, isPoint3D, mix, mixArray, mixColor, mixComplex, mixObject, pipe, pointFromVector, progress, radiansToDegrees, smooth, smoothFrame, snap, springForce, springForceExpo, springForceLinear, steps, toDecimal, velocityPerFrame, velocityPerSecond, wrap$1 as wrap };\n","import { __rest, __assign } from 'tslib';\nimport sync from 'framesync';\nimport { number, color, px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar createStyler = function (_a) {\n    var onRead = _a.onRead,\n        onRender = _a.onRender,\n        _b = _a.uncachedValues,\n        uncachedValues = _b === void 0 ? new Set() : _b,\n        _c = _a.useCache,\n        useCache = _c === void 0 ? true : _c;\n    return function (_a) {\n        if (_a === void 0) {\n            _a = {};\n        }\n        var props = __rest(_a, []);\n        var state = {};\n        var changedValues = [];\n        var hasChanged = false;\n        function setValue(key, value) {\n            if (key.startsWith('--')) {\n                props.hasCSSVariable = true;\n            }\n            var currentValue = state[key];\n            state[key] = value;\n            if (state[key] === currentValue) return;\n            if (changedValues.indexOf(key) === -1) {\n                changedValues.push(key);\n            }\n            if (!hasChanged) {\n                hasChanged = true;\n                sync.render(styler.render);\n            }\n        }\n        var styler = {\n            get: function (key, forceRead) {\n                if (forceRead === void 0) {\n                    forceRead = false;\n                }\n                var useCached = !forceRead && useCache && !uncachedValues.has(key) && state[key] !== undefined;\n                return useCached ? state[key] : onRead(key, props);\n            },\n            set: function (values, value) {\n                if (typeof values === 'string') {\n                    setValue(values, value);\n                } else {\n                    for (var key in values) {\n                        setValue(key, values[key]);\n                    }\n                }\n                return this;\n            },\n            render: function (forceRender) {\n                if (forceRender === void 0) {\n                    forceRender = false;\n                }\n                if (hasChanged || forceRender === true) {\n                    onRender(state, props, changedValues);\n                    hasChanged = false;\n                    changedValues.length = 0;\n                }\n                return this;\n            }\n        };\n        return styler;\n    };\n};\n\nvar CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = '$1-$2';\nvar camelToDash = function (str) {\n    return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nvar camelCache = /*#__PURE__*/new Map();\nvar dashCache = /*#__PURE__*/new Map();\nvar prefixes = ['Webkit', 'Moz', 'O', 'ms', ''];\nvar numPrefixes = prefixes.length;\nvar isBrowser = typeof document !== 'undefined';\nvar testElement;\nvar setDashPrefix = function (key, prefixed) {\n    return dashCache.set(key, camelToDash(prefixed));\n};\nvar testPrefix = function (key) {\n    testElement = testElement || document.createElement('div');\n    for (var i = 0; i < numPrefixes; i++) {\n        var prefix = prefixes[i];\n        var noPrefix = prefix === '';\n        var prefixedPropertyName = noPrefix ? key : prefix + key.charAt(0).toUpperCase() + key.slice(1);\n        if (prefixedPropertyName in testElement.style || noPrefix) {\n            if (noPrefix && key === 'clipPath' && dashCache.has(key)) {\n                return;\n            }\n            camelCache.set(key, prefixedPropertyName);\n            setDashPrefix(key, \"\" + (noPrefix ? '' : '-') + camelToDash(prefixedPropertyName));\n        }\n    }\n};\nvar setServerProperty = function (key) {\n    return setDashPrefix(key, key);\n};\nvar prefixer = function (key, asDashCase) {\n    if (asDashCase === void 0) {\n        asDashCase = false;\n    }\n    var cache = asDashCase ? dashCache : camelCache;\n    if (!cache.has(key)) {\n        isBrowser ? testPrefix(key) : setServerProperty(key);\n    }\n    return cache.get(key) || key;\n};\n\nvar axes = ['', 'X', 'Y', 'Z'];\nvar order = ['translate', 'scale', 'rotate', 'skew', 'transformPerspective'];\nvar transformProps = /*#__PURE__*/order.reduce(function (acc, key) {\n    return axes.reduce(function (axesAcc, axesKey) {\n        axesAcc.push(key + axesKey);\n        return axesAcc;\n    }, acc);\n}, ['x', 'y', 'z']);\nvar transformPropDictionary = /*#__PURE__*/transformProps.reduce(function (dict, key) {\n    dict[key] = true;\n    return dict;\n}, {});\nfunction isTransformProp(key) {\n    return transformPropDictionary[key] === true;\n}\nfunction sortTransformProps(a, b) {\n    return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\nvar transformOriginProps = /*#__PURE__*/new Set(['originX', 'originY', 'originZ']);\nfunction isTransformOriginProp(key) {\n    return transformOriginProps.has(key);\n}\n\nvar int = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, number), { transform: Math.round });\nvar valueTypes = {\n    color: color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale: scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    zIndex: int,\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int\n};\nvar getValueType = function (key) {\n    return valueTypes[key];\n};\nvar getValueAsType = function (value, type) {\n    return type && typeof value === 'number' ? type.transform(value) : value;\n};\n\nvar SCROLL_LEFT = 'scrollLeft';\nvar SCROLL_TOP = 'scrollTop';\nvar scrollKeys = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP]);\n\nvar blacklist = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP, 'transform']);\nvar translateAlias = {\n    x: 'translateX',\n    y: 'translateY',\n    z: 'translateZ'\n};\nfunction isCustomTemplate(v) {\n    return typeof v === 'function';\n}\nfunction buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration, allowTransformNone) {\n    if (allowTransformNone === void 0) {\n        allowTransformNone = true;\n    }\n    var transformString = '';\n    var transformHasZ = false;\n    transformKeys.sort(sortTransformProps);\n    var numTransformKeys = transformKeys.length;\n    for (var i = 0; i < numTransformKeys; i++) {\n        var key = transformKeys[i];\n        transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n        transformHasZ = key === 'z' ? true : transformHasZ;\n    }\n    if (!transformHasZ && enableHardwareAcceleration) {\n        transformString += 'translateZ(0)';\n    } else {\n        transformString = transformString.trim();\n    }\n    if (isCustomTemplate(state.transform)) {\n        transformString = state.transform(transform, transformIsDefault ? '' : transformString);\n    } else if (allowTransformNone && transformIsDefault) {\n        transformString = 'none';\n    }\n    return transformString;\n}\nfunction buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase, allowTransformNone) {\n    if (enableHardwareAcceleration === void 0) {\n        enableHardwareAcceleration = true;\n    }\n    if (styles === void 0) {\n        styles = {};\n    }\n    if (transform === void 0) {\n        transform = {};\n    }\n    if (transformOrigin === void 0) {\n        transformOrigin = {};\n    }\n    if (transformKeys === void 0) {\n        transformKeys = [];\n    }\n    if (isDashCase === void 0) {\n        isDashCase = false;\n    }\n    if (allowTransformNone === void 0) {\n        allowTransformNone = true;\n    }\n    var transformIsDefault = true;\n    var hasTransform = false;\n    var hasTransformOrigin = false;\n    for (var key in state) {\n        var value = state[key];\n        var valueType = getValueType(key);\n        var valueAsType = getValueAsType(value, valueType);\n        if (isTransformProp(key)) {\n            hasTransform = true;\n            transform[key] = valueAsType;\n            transformKeys.push(key);\n            if (transformIsDefault) {\n                if (valueType.default && value !== valueType.default || !valueType.default && value !== 0) {\n                    transformIsDefault = false;\n                }\n            }\n        } else if (isTransformOriginProp(key)) {\n            transformOrigin[key] = valueAsType;\n            hasTransformOrigin = true;\n        } else if (!blacklist.has(key) || !isCustomTemplate(valueAsType)) {\n            styles[prefixer(key, isDashCase)] = valueAsType;\n        }\n    }\n    if (hasTransform || typeof state.transform === 'function') {\n        styles.transform = buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration, allowTransformNone);\n    }\n    if (hasTransformOrigin) {\n        styles.transformOrigin = (transformOrigin.originX || '50%') + \" \" + (transformOrigin.originY || '50%') + \" \" + (transformOrigin.originZ || 0);\n    }\n    return styles;\n}\nfunction createStyleBuilder(_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.enableHardwareAcceleration,\n        enableHardwareAcceleration = _c === void 0 ? true : _c,\n        _d = _b.isDashCase,\n        isDashCase = _d === void 0 ? true : _d,\n        _e = _b.allowTransformNone,\n        allowTransformNone = _e === void 0 ? true : _e;\n    var styles = {};\n    var transform = {};\n    var transformOrigin = {};\n    var transformKeys = [];\n    return function (state) {\n        transformKeys.length = 0;\n        buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase, allowTransformNone);\n        return styles;\n    };\n}\n\nfunction onRead(key, options) {\n    var element = options.element,\n        preparseOutput = options.preparseOutput;\n    var defaultValueType = getValueType(key);\n    if (isTransformProp(key)) {\n        return defaultValueType ? defaultValueType.default || 0 : 0;\n    } else if (scrollKeys.has(key)) {\n        return element[key];\n    } else {\n        var domValue = window.getComputedStyle(element, null).getPropertyValue(prefixer(key, true)) || 0;\n        return preparseOutput && defaultValueType && defaultValueType.test(domValue) && defaultValueType.parse ? defaultValueType.parse(domValue) : domValue;\n    }\n}\nfunction onRender(state, _a, changedValues) {\n    var element = _a.element,\n        buildStyles = _a.buildStyles,\n        hasCSSVariable = _a.hasCSSVariable;\n    Object.assign(element.style, buildStyles(state));\n    if (hasCSSVariable) {\n        var numChangedValues = changedValues.length;\n        for (var i = 0; i < numChangedValues; i++) {\n            var key = changedValues[i];\n            if (key.startsWith('--')) {\n                element.style.setProperty(key, state[key]);\n            }\n        }\n    }\n    if (changedValues.indexOf(SCROLL_LEFT) !== -1) {\n        element[SCROLL_LEFT] = state[SCROLL_LEFT];\n    }\n    if (changedValues.indexOf(SCROLL_TOP) !== -1) {\n        element[SCROLL_TOP] = state[SCROLL_TOP];\n    }\n}\nvar cssStyler = /*#__PURE__*/createStyler({\n    onRead: onRead,\n    onRender: onRender,\n    uncachedValues: scrollKeys\n});\nfunction createCssStyler(element, _a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var enableHardwareAcceleration = _a.enableHardwareAcceleration,\n        allowTransformNone = _a.allowTransformNone,\n        props = __rest(_a, [\"enableHardwareAcceleration\", \"allowTransformNone\"]);\n    return cssStyler(__assign({ element: element, buildStyles: createStyleBuilder({\n            enableHardwareAcceleration: enableHardwareAcceleration,\n            allowTransformNone: allowTransformNone\n        }), preparseOutput: true }, props));\n}\n\nvar camelCaseAttributes = /*#__PURE__*/new Set(['baseFrequency', 'diffuseConstant', 'kernelMatrix', 'kernelUnitLength', 'keySplines', 'keyTimes', 'limitingConeAngle', 'markerHeight', 'markerWidth', 'numOctaves', 'targetX', 'targetY', 'surfaceScale', 'specularConstant', 'specularExponent', 'stdDeviation', 'tableValues']);\n\nvar defaultOrigin = 0.5;\nvar svgAttrsTemplate = function () {\n    return {\n        style: {}\n    };\n};\nvar progressToPixels = function (progress, length) {\n    return px.transform(progress * length);\n};\nvar unmeasured = { x: 0, y: 0, width: 0, height: 0 };\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === 'string' ? origin : px.transform(offset + size * origin);\n}\nfunction calculateSVGTransformOrigin(dimensions, originX, originY) {\n    return calcOrigin(originX, dimensions.x, dimensions.width) + \" \" + calcOrigin(originY, dimensions.y, dimensions.height);\n}\nvar svgStyleConfig = {\n    enableHardwareAcceleration: false,\n    isDashCase: false\n};\nfunction buildSVGAttrs(_a, dimensions, totalPathLength, cssBuilder, attrs, isDashCase) {\n    if (dimensions === void 0) {\n        dimensions = unmeasured;\n    }\n    if (cssBuilder === void 0) {\n        cssBuilder = createStyleBuilder(svgStyleConfig);\n    }\n    if (attrs === void 0) {\n        attrs = svgAttrsTemplate();\n    }\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var attrX = _a.attrX,\n        attrY = _a.attrY,\n        originX = _a.originX,\n        originY = _a.originY,\n        pathLength = _a.pathLength,\n        _b = _a.pathSpacing,\n        pathSpacing = _b === void 0 ? 1 : _b,\n        _c = _a.pathOffset,\n        pathOffset = _c === void 0 ? 0 : _c,\n        state = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n    var style = cssBuilder(state);\n    for (var key in style) {\n        if (key === 'transform') {\n            attrs.style.transform = style[key];\n        } else {\n            var attrKey = isDashCase && !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n            attrs[attrKey] = style[key];\n        }\n    }\n    if (originX !== undefined || originY !== undefined || style.transform) {\n        attrs.style.transformOrigin = calculateSVGTransformOrigin(dimensions, originX !== undefined ? originX : defaultOrigin, originY !== undefined ? originY : defaultOrigin);\n    }\n    if (attrX !== undefined) attrs.x = attrX;\n    if (attrY !== undefined) attrs.y = attrY;\n    if (totalPathLength !== undefined && pathLength !== undefined) {\n        attrs[isDashCase ? 'stroke-dashoffset' : 'strokeDashoffset'] = progressToPixels(-pathOffset, totalPathLength);\n        attrs[isDashCase ? 'stroke-dasharray' : 'strokeDasharray'] = progressToPixels(pathLength, totalPathLength) + \" \" + progressToPixels(pathSpacing, totalPathLength);\n    }\n    return attrs;\n}\nfunction createAttrBuilder(dimensions, totalPathLength, isDashCase) {\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var attrs = svgAttrsTemplate();\n    var cssBuilder = createStyleBuilder(svgStyleConfig);\n    return function (state) {\n        return buildSVGAttrs(state, dimensions, totalPathLength, cssBuilder, attrs, isDashCase);\n    };\n}\n\nvar getDimensions = function (element) {\n    return typeof element.getBBox === 'function' ? element.getBBox() : element.getBoundingClientRect();\n};\nvar getSVGElementDimensions = function (element) {\n    try {\n        return getDimensions(element);\n    } catch (e) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n};\n\nvar isPath = function (element) {\n    return element.tagName === 'path';\n};\nvar svgStyler = /*#__PURE__*/createStyler({\n    onRead: function (key, _a) {\n        var element = _a.element;\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        if (!isTransformProp(key)) {\n            return element.getAttribute(key);\n        } else {\n            var valueType = getValueType(key);\n            return valueType ? valueType.default || 0 : 0;\n        }\n    },\n    onRender: function (state, _a) {\n        var element = _a.element,\n            buildAttrs = _a.buildAttrs;\n        var attrs = buildAttrs(state);\n        for (var key in attrs) {\n            if (key === 'style') {\n                Object.assign(element.style, attrs.style);\n            } else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n});\nvar svg = function (element) {\n    var dimensions = getSVGElementDimensions(element);\n    var pathLength = isPath(element) && element.getTotalLength ? element.getTotalLength() : undefined;\n    return svgStyler({\n        element: element,\n        buildAttrs: createAttrBuilder(dimensions, pathLength)\n    });\n};\n\nvar viewport = /*#__PURE__*/createStyler({\n    useCache: false,\n    onRead: function (key) {\n        return key === 'scrollTop' ? window.pageYOffset : window.pageXOffset;\n    },\n    onRender: function (_a) {\n        var _b = _a.scrollTop,\n            scrollTop = _b === void 0 ? 0 : _b,\n            _c = _a.scrollLeft,\n            scrollLeft = _c === void 0 ? 0 : _c;\n        return window.scrollTo(scrollLeft, scrollTop);\n    }\n});\n\nvar cache = /*#__PURE__*/new WeakMap();\nvar isHTMLElement = function (node) {\n    return node instanceof HTMLElement || typeof node.click === 'function';\n};\nvar isSVGElement = function (node) {\n    return node instanceof SVGElement || 'ownerSVGElement' in node;\n};\nvar createDOMStyler = function (node, props) {\n    var styler;\n    if (node === window) {\n        styler = viewport(node);\n    } else if (isHTMLElement(node)) {\n        styler = createCssStyler(node, props);\n    } else if (isSVGElement(node)) {\n        styler = svg(node);\n    }\n    invariant(styler !== undefined, 'No valid node provided. Node must be HTMLElement, SVGElement or window.');\n    cache.set(node, styler);\n    return styler;\n};\nvar getStyler = function (node, props) {\n    return cache.has(node) ? cache.get(node) : createDOMStyler(node, props);\n};\nfunction index(nodeOrSelector, props) {\n    var node = typeof nodeOrSelector === 'string' ? document.querySelector(nodeOrSelector) : nodeOrSelector;\n    return getStyler(node, props);\n}\n\nexport default index;\nexport { buildSVGAttrs, buildStyleProperty, createStyler as createStylerFactory, isTransformProp, transformProps };\n","import { __assign, __spreadArrays, __extends, __rest } from 'tslib';\nimport { pipe, angle, degreesToRadians, distance, isPoint3D, isPoint, mix, pointFromVector, progress, radiansToDegrees, smoothFrame, velocityPerFrame, velocityPerSecond, mixComplex, mixColor, clamp, applyOffset, conditional, interpolate, mixArray, smooth, snap, springForce, springForceExpo, springForceLinear, wrap } from '@popmotion/popcorn';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { color, complex, px, percent, degrees, vh, vw, number } from 'style-value-types';\nimport * as styleValueTypes from 'style-value-types';\nexport { styleValueTypes as valueTypes };\nimport { createReversedEasing, linear, easeOut, easeInOut } from '@popmotion/easing';\nimport * as easing from '@popmotion/easing';\nexport { easing };\nimport styler from 'stylefire';\nexport { default as styler } from 'stylefire';\nimport { warning } from 'hey-listen';\n\nvar Chainable = /*#__PURE__*/function () {\n    function Chainable(props) {\n        if (props === void 0) {\n            props = {};\n        }\n        this.props = props;\n    }\n    Chainable.prototype.applyMiddleware = function (middleware) {\n        return this.create(__assign(__assign({}, this.props), { middleware: this.props.middleware ? __spreadArrays([middleware], this.props.middleware) : [middleware] }));\n    };\n    Chainable.prototype.pipe = function () {\n        var funcs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            funcs[_i] = arguments[_i];\n        }\n        var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return update(pipedUpdate(v));\n            };\n        });\n    };\n    Chainable.prototype.while = function (predicate) {\n        return this.applyMiddleware(function (update, complete) {\n            return function (v) {\n                return predicate(v) ? update(v) : complete();\n            };\n        });\n    };\n    Chainable.prototype.filter = function (predicate) {\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return predicate(v) && update(v);\n            };\n        });\n    };\n    return Chainable;\n}();\n\nvar Observer = /*#__PURE__*/function () {\n    function Observer(_a, observer) {\n        var _this = this;\n        var middleware = _a.middleware,\n            onComplete = _a.onComplete;\n        this.isActive = true;\n        this.update = function (v) {\n            if (_this.observer.update) _this.updateObserver(v);\n        };\n        this.complete = function () {\n            if (_this.observer.complete && _this.isActive) _this.observer.complete();\n            if (_this.onComplete) _this.onComplete();\n            _this.isActive = false;\n        };\n        this.error = function (err) {\n            if (_this.observer.error && _this.isActive) _this.observer.error(err);\n            _this.isActive = false;\n        };\n        this.observer = observer;\n        this.updateObserver = function (v) {\n            return observer.update(v);\n        };\n        this.onComplete = onComplete;\n        if (observer.update && middleware && middleware.length) {\n            middleware.forEach(function (m) {\n                return _this.updateObserver = m(_this.updateObserver, _this.complete);\n            });\n        }\n    }\n    return Observer;\n}();\nvar createObserver = function (observerCandidate, _a, onComplete) {\n    var middleware = _a.middleware;\n    if (typeof observerCandidate === 'function') {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, { update: observerCandidate });\n    } else {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, observerCandidate);\n    }\n};\n\nvar Action = /*#__PURE__*/function (_super) {\n    __extends(Action, _super);\n    function Action() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Action.prototype.create = function (props) {\n        return new Action(props);\n    };\n    Action.prototype.start = function (observerCandidate) {\n        if (observerCandidate === void 0) {\n            observerCandidate = {};\n        }\n        var isComplete = false;\n        var subscription = {\n            stop: function () {\n                return undefined;\n            }\n        };\n        var _a = this.props,\n            init = _a.init,\n            observerProps = __rest(_a, [\"init\"]);\n        var observer = createObserver(observerCandidate, observerProps, function () {\n            isComplete = true;\n            subscription.stop();\n        });\n        var api = init(observer);\n        subscription = api ? __assign(__assign({}, subscription), api) : subscription;\n        if (observerCandidate.registerParent) {\n            observerCandidate.registerParent(subscription);\n        }\n        if (isComplete) subscription.stop();\n        return subscription;\n    };\n    return Action;\n}(Chainable);\nvar action = function (init) {\n    return new Action({ init: init });\n};\n\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n    __extends(BaseMulticast, _super);\n    function BaseMulticast() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subscribers = [];\n        return _this;\n    }\n    BaseMulticast.prototype.complete = function () {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.complete();\n        });\n    };\n    BaseMulticast.prototype.error = function (err) {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.error(err);\n        });\n    };\n    BaseMulticast.prototype.update = function (v) {\n        for (var i = 0; i < this.subscribers.length; i++) {\n            this.subscribers[i].update(v);\n        }\n    };\n    BaseMulticast.prototype.subscribe = function (observerCandidate) {\n        var _this = this;\n        var observer = createObserver(observerCandidate, this.props);\n        this.subscribers.push(observer);\n        var subscription = {\n            unsubscribe: function () {\n                var index = _this.subscribers.indexOf(observer);\n                if (index !== -1) _this.subscribers.splice(index, 1);\n            }\n        };\n        return subscription;\n    };\n    BaseMulticast.prototype.stop = function () {\n        if (this.parent) this.parent.stop();\n    };\n    BaseMulticast.prototype.registerParent = function (subscription) {\n        this.stop();\n        this.parent = subscription;\n    };\n    return BaseMulticast;\n}(Chainable);\n\nvar Multicast = /*#__PURE__*/function (_super) {\n    __extends(Multicast, _super);\n    function Multicast() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Multicast.prototype.create = function (props) {\n        return new Multicast(props);\n    };\n    return Multicast;\n}(BaseMulticast);\nvar multicast = function () {\n    return new Multicast();\n};\n\nvar stepProgress = function (steps, progress) {\n    var segment = 1 / (steps - 1);\n    var subsegment = 1 / (2 * (steps - 1));\n    var percentProgressOfTarget = Math.min(progress, 1);\n    var subsegmentProgressOfTarget = percentProgressOfTarget / subsegment;\n    var segmentProgressOfTarget = Math.floor((subsegmentProgressOfTarget + 1) / 2);\n    return segmentProgressOfTarget * segment;\n};\n\nvar calc = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    angle: angle,\n    degreesToRadians: degreesToRadians,\n    distance: distance,\n    isPoint3D: isPoint3D,\n    isPoint: isPoint,\n    dilate: mix,\n    getValueFromProgress: mix,\n    pointFromAngleAndDistance: pointFromVector,\n    getProgressFromValue: progress,\n    radiansToDegrees: radiansToDegrees,\n    smooth: smoothFrame,\n    speedPerFrame: velocityPerFrame,\n    speedPerSecond: velocityPerSecond,\n    stepProgress: stepProgress\n});\n\nvar isValueList = function (v) {\n    return Array.isArray(v);\n};\nvar isSingleValue = function (v) {\n    var typeOfV = typeof v;\n    return typeOfV === 'string' || typeOfV === 'number';\n};\nvar ValueReaction = /*#__PURE__*/function (_super) {\n    __extends(ValueReaction, _super);\n    function ValueReaction(props) {\n        var _this = _super.call(this, props) || this;\n        _this.scheduleVelocityCheck = function () {\n            return sync.postRender(_this.velocityCheck);\n        };\n        _this.velocityCheck = function (_a) {\n            var timestamp = _a.timestamp;\n            if (timestamp !== _this.lastUpdated) {\n                _this.prev = _this.current;\n            }\n        };\n        _this.prev = _this.current = props.value || 0;\n        if (isSingleValue(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v;\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getSingleVelocity(_this.current, _this.prev);\n            };\n        } else if (isValueList(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = __spreadArrays(v);\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getListVelocity();\n            };\n        } else {\n            _this.updateCurrent = function (v) {\n                _this.current = {};\n                for (var key in v) {\n                    if (v.hasOwnProperty(key)) {\n                        _this.current[key] = v[key];\n                    }\n                }\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getMapVelocity();\n            };\n        }\n        if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n        return _this;\n    }\n    ValueReaction.prototype.create = function (props) {\n        return new ValueReaction(props);\n    };\n    ValueReaction.prototype.get = function () {\n        return this.current;\n    };\n    ValueReaction.prototype.getVelocity = function () {\n        return this.getVelocityOfCurrent();\n    };\n    ValueReaction.prototype.update = function (v) {\n        _super.prototype.update.call(this, v);\n        this.prev = this.current;\n        this.updateCurrent(v);\n        var _a = getFrameData(),\n            delta = _a.delta,\n            timestamp = _a.timestamp;\n        this.timeDelta = delta;\n        this.lastUpdated = timestamp;\n        sync.postRender(this.scheduleVelocityCheck);\n    };\n    ValueReaction.prototype.subscribe = function (observerCandidate) {\n        var sub = _super.prototype.subscribe.call(this, observerCandidate);\n        this.subscribers[this.subscribers.length - 1].update(this.current);\n        return sub;\n    };\n    ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n        return typeof current === 'number' && typeof prev === 'number' ? velocityPerSecond(current - prev, this.timeDelta) : velocityPerSecond(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n    };\n    ValueReaction.prototype.getListVelocity = function () {\n        var _this = this;\n        return this.current.map(function (c, i) {\n            return _this.getSingleVelocity(c, _this.prev[i]);\n        });\n    };\n    ValueReaction.prototype.getMapVelocity = function () {\n        var velocity = {};\n        for (var key in this.current) {\n            if (this.current.hasOwnProperty(key)) {\n                velocity[key] = this.getSingleVelocity(this.current[key], this.prev[key]);\n            }\n        }\n        return velocity;\n    };\n    return ValueReaction;\n}(BaseMulticast);\nvar value = function (value, initialSubscription) {\n    return new ValueReaction({ value: value, initialSubscription: initialSubscription });\n};\n\nvar multi = function (_a) {\n    var getCount = _a.getCount,\n        getFirst = _a.getFirst,\n        getOutput = _a.getOutput,\n        mapApi = _a.mapApi,\n        setProp = _a.setProp,\n        startActions = _a.startActions;\n    return function (actions) {\n        return action(function (_a) {\n            var update = _a.update,\n                complete = _a.complete,\n                error = _a.error;\n            var numActions = getCount(actions);\n            var output = getOutput();\n            var updateOutput = function () {\n                return update(output);\n            };\n            var numCompletedActions = 0;\n            var subs = startActions(actions, function (a, name) {\n                var hasCompleted = false;\n                return a.start({\n                    complete: function () {\n                        if (!hasCompleted) {\n                            hasCompleted = true;\n                            numCompletedActions++;\n                            if (numCompletedActions === numActions) sync.update(complete);\n                        }\n                    },\n                    error: error,\n                    update: function (v) {\n                        setProp(output, name, v);\n                        sync.update(updateOutput, false, true);\n                    }\n                });\n            });\n            return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n                api[methodName] = mapApi(subs, methodName);\n                return api;\n            }, {});\n        });\n    };\n};\n\nvar composite = /*#__PURE__*/multi({\n    getOutput: function () {\n        return {};\n    },\n    getCount: function (subs) {\n        return Object.keys(subs).length;\n    },\n    getFirst: function (subs) {\n        return subs[Object.keys(subs)[0]];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return Object.keys(subs).reduce(function (output, propKey) {\n                var _a;\n                if (subs[propKey][methodName]) {\n                    args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n                }\n                return output;\n            }, {});\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return Object.keys(actions).reduce(function (subs, key) {\n            subs[key] = starter(actions[key], key);\n            return subs;\n        }, {});\n    }\n});\n\nvar parallel = /*#__PURE__*/multi({\n    getOutput: function () {\n        return [];\n    },\n    getCount: function (subs) {\n        return subs.length;\n    },\n    getFirst: function (subs) {\n        return subs[0];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subs.map(function (sub, i) {\n                if (sub[methodName]) {\n                    return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n                }\n            });\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return actions.map(function (action, i) {\n            return starter(action, i);\n        });\n    }\n});\nvar parallel$1 = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return parallel(actions);\n};\n\nvar createVectorTests = function (typeTests) {\n    var testNames = Object.keys(typeTests);\n    var isVectorProp = function (prop, key) {\n        return prop !== undefined && !typeTests[key](prop);\n    };\n    var getVectorKeys = function (props) {\n        return testNames.reduce(function (vectorKeys, key) {\n            if (isVectorProp(props[key], key)) vectorKeys.push(key);\n            return vectorKeys;\n        }, []);\n    };\n    var testVectorProps = function (props) {\n        return props && testNames.some(function (key) {\n            return isVectorProp(props[key], key);\n        });\n    };\n    return { getVectorKeys: getVectorKeys, testVectorProps: testVectorProps };\n};\nvar unitTypes = [px, percent, degrees, vh, vw];\nvar findUnitType = function (prop) {\n    return unitTypes.find(function (type) {\n        return type.test(prop);\n    });\n};\nvar isUnitProp = function (prop) {\n    return Boolean(findUnitType(prop));\n};\nvar createAction = function (action, props) {\n    return action(props);\n};\nvar reduceArrayValue = function (i) {\n    return function (props, key) {\n        props[key] = props[key][i];\n        return props;\n    };\n};\nvar createArrayAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionList = props[firstVectorKey].map(function (v, i) {\n        var childActionProps = vectorKeys.reduce(reduceArrayValue(i), __assign({}, props));\n        return getActionCreator(v)(action, childActionProps);\n    });\n    return parallel$1.apply(void 0, actionList);\n};\nvar reduceObjectValue = function (key) {\n    return function (props, propKey) {\n        props[propKey] = props[propKey][key];\n        return props;\n    };\n};\nvar createObjectAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionMap = Object.keys(props[firstVectorKey]).reduce(function (map, key) {\n        var childActionProps = vectorKeys.reduce(reduceObjectValue(key), __assign({}, props));\n        map[key] = getActionCreator(props[firstVectorKey][key])(action, childActionProps);\n        return map;\n    }, {});\n    return composite(actionMap);\n};\nvar createUnitAction = function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n    var unitType = findUnitType(from) || findUnitType(to);\n    var transform = unitType.transform,\n        parse = unitType.parse;\n    return action(__assign(__assign({}, props), { from: typeof from === 'string' ? parse(from) : from, to: typeof to === 'string' ? parse(to) : to })).pipe(transform);\n};\nvar createMixerAction = function (mixer) {\n    return function (action, _a) {\n        var from = _a.from,\n            to = _a.to,\n            props = __rest(_a, [\"from\", \"to\"]);\n        return action(__assign(__assign({}, props), { from: 0, to: 1 })).pipe(mixer(from, to));\n    };\n};\nvar createColorAction = /*#__PURE__*/createMixerAction(mixColor);\nvar createComplexAction = /*#__PURE__*/createMixerAction(mixComplex);\nvar createVectorAction = function (action, typeTests) {\n    var _a = createVectorTests(typeTests),\n        testVectorProps = _a.testVectorProps,\n        getVectorKeys = _a.getVectorKeys;\n    var vectorAction = function (props) {\n        var isVector = testVectorProps(props);\n        if (!isVector) return action(props);\n        var vectorKeys = getVectorKeys(props);\n        var testKey = vectorKeys[0];\n        var testProp = props[testKey];\n        return getActionCreator(testProp)(action, props, vectorKeys);\n    };\n    return vectorAction;\n};\nvar getActionCreator = function (prop) {\n    if (typeof prop === 'number') {\n        return createAction;\n    } else if (Array.isArray(prop)) {\n        return createArrayAction;\n    } else if (isUnitProp(prop)) {\n        return createUnitAction;\n    } else if (color.test(prop)) {\n        return createColorAction;\n    } else if (complex.test(prop)) {\n        return createComplexAction;\n    } else if (typeof prop === 'object') {\n        return createObjectAction;\n    } else {\n        return createAction;\n    }\n};\n\nvar decay = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0 : _b,\n            _c = props.from,\n            from = _c === void 0 ? 0 : _c,\n            _d = props.power,\n            power = _d === void 0 ? 0.8 : _d,\n            _e = props.timeConstant,\n            timeConstant = _e === void 0 ? 350 : _e,\n            _f = props.restDelta,\n            restDelta = _f === void 0 ? 0.5 : _f,\n            modifyTarget = props.modifyTarget;\n        var elapsed = 0;\n        var amplitude = power * velocity;\n        var idealTarget = from + amplitude;\n        var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n        if (target !== idealTarget) amplitude = target - from;\n        var process = sync.update(function (_a) {\n            var frameDelta = _a.delta;\n            elapsed += frameDelta;\n            var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n            var isMoving = delta > restDelta || delta < -restDelta;\n            var current = isMoving ? target + delta : target;\n            update(current);\n            if (!isMoving) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n    from: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    },\n    velocity: number.test\n});\n\nvar spring = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0.0 : _b;\n        var _c = props.from,\n            from = _c === void 0 ? 0.0 : _c,\n            _d = props.to,\n            to = _d === void 0 ? 0.0 : _d,\n            _e = props.stiffness,\n            stiffness = _e === void 0 ? 100 : _e,\n            _f = props.damping,\n            damping = _f === void 0 ? 10 : _f,\n            _g = props.mass,\n            mass = _g === void 0 ? 1.0 : _g,\n            _h = props.restSpeed,\n            restSpeed = _h === void 0 ? 0.01 : _h,\n            _j = props.restDelta,\n            restDelta = _j === void 0 ? 0.01 : _j;\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var t = 0;\n        var delta = to - from;\n        var position = from;\n        var prevPosition = position;\n        var process = sync.update(function (_a) {\n            var timeDelta = _a.delta;\n            t += timeDelta;\n            var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n            var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n            prevPosition = position;\n            if (dampingRatio < 1) {\n                var envelope = Math.exp(-dampingRatio * angularFreq * t);\n                var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n                position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n            } else {\n                var envelope = Math.exp(-angularFreq * t);\n                position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n            }\n            velocity = velocityPerSecond(position - prevPosition, timeDelta);\n            var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n            var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n            if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n                position = to;\n                update(position);\n                cancelSync.update(process);\n                complete();\n            } else {\n                update(position);\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n    from: number.test,\n    to: number.test,\n    stiffness: number.test,\n    damping: number.test,\n    mass: number.test,\n    velocity: number.test\n});\n\nvar inertia = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.velocity,\n        velocity = _c === void 0 ? 0 : _c,\n        min = _a.min,\n        max = _a.max,\n        _d = _a.power,\n        power = _d === void 0 ? 0.8 : _d,\n        _e = _a.timeConstant,\n        timeConstant = _e === void 0 ? 700 : _e,\n        _f = _a.bounceStiffness,\n        bounceStiffness = _f === void 0 ? 500 : _f,\n        _g = _a.bounceDamping,\n        bounceDamping = _g === void 0 ? 10 : _g,\n        _h = _a.restDelta,\n        restDelta = _h === void 0 ? 1 : _h,\n        modifyTarget = _a.modifyTarget;\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var prev = from;\n        var current = from;\n        var activeAnimation;\n        var isOutOfBounds = function (v) {\n            return min !== undefined && v < min || max !== undefined && v > max;\n        };\n        var boundaryNearest = function (v) {\n            return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n        };\n        var startAnimation = function (animation, next) {\n            activeAnimation && activeAnimation.stop();\n            activeAnimation = animation.start({\n                update: update,\n                complete: function () {\n                    if (next) {\n                        next();\n                        return;\n                    }\n                    complete();\n                }\n            });\n        };\n        var startSpring = function (props) {\n            startAnimation(spring(__assign(__assign({}, props), { stiffness: bounceStiffness, damping: bounceDamping, restDelta: restDelta })));\n        };\n        if (isOutOfBounds(from)) {\n            startSpring({ from: from, velocity: velocity, to: boundaryNearest(from) });\n        } else {\n            var to = power * velocity + from;\n            if (typeof modifyTarget !== 'undefined') {\n                to = modifyTarget(to);\n                modifyTarget = void 0;\n                velocity = (to - from) / power;\n            }\n            var animation = decay({\n                from: from,\n                velocity: velocity,\n                timeConstant: timeConstant,\n                power: power,\n                restDelta: restDelta,\n                modifyTarget: modifyTarget\n            });\n            var next = void 0;\n            if (isOutOfBounds(to)) {\n                var boundary_1 = boundaryNearest(to);\n                var heading_1 = boundary_1 == min ? -1 : 1;\n                animation = animation.while(function (v) {\n                    prev = current;\n                    velocity = velocityPerSecond(v - prev, getFrameData().delta);\n                    current = v;\n                    return boundary_1 - v * heading_1 > 0;\n                });\n                next = function () {\n                    return startSpring({ from: current, to: boundary_1, velocity: velocity });\n                };\n            }\n            startAnimation(animation, next);\n        }\n        return {\n            stop: function () {\n                return activeAnimation && activeAnimation.stop();\n            }\n        };\n    });\n};\nvar index = /*#__PURE__*/createVectorAction(inertia, {\n    from: number.test,\n    velocity: number.test,\n    min: number.test,\n    max: number.test,\n    damping: number.test,\n    stiffness: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    }\n});\n\nvar frame = function () {\n    return action(function (_a) {\n        var update = _a.update;\n        var initialTime = 0;\n        var process = sync.update(function (_a) {\n            var timestamp = _a.timestamp;\n            if (!initialTime) initialTime = timestamp;\n            update(timestamp - initialTime);\n        }, true, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\n\nvar scrubber = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.to,\n        to = _c === void 0 ? 1 : _c,\n        _d = _a.ease,\n        ease = _d === void 0 ? linear : _d,\n        _e = _a.reverseEase,\n        reverseEase = _e === void 0 ? false : _e;\n    if (reverseEase) {\n        ease = createReversedEasing(ease);\n    }\n    return action(function (_a) {\n        var update = _a.update;\n        return {\n            seek: function (progress) {\n                return update(progress);\n            }\n        };\n    }).pipe(ease, function (v) {\n        return mix(from, to, v);\n    });\n};\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n    ease: function (func) {\n        return typeof func === 'function';\n    },\n    from: number.test,\n    to: number.test\n});\n\nvar clampProgress = /*#__PURE__*/clamp(0, 1);\nvar tween = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.duration,\n            duration = _b === void 0 ? 300 : _b,\n            _c = props.ease,\n            ease = _c === void 0 ? easeOut : _c,\n            _d = props.flip,\n            flip = _d === void 0 ? 0 : _d,\n            _e = props.loop,\n            loop = _e === void 0 ? 0 : _e,\n            _f = props.yoyo,\n            yoyo = _f === void 0 ? 0 : _f,\n            _g = props.repeatDelay,\n            repeatDelay = _g === void 0 ? 0 : _g;\n        var _h = props.from,\n            from = _h === void 0 ? 0 : _h,\n            _j = props.to,\n            to = _j === void 0 ? 1 : _j,\n            _k = props.elapsed,\n            elapsed = _k === void 0 ? 0 : _k,\n            _l = props.flipCount,\n            flipCount = _l === void 0 ? 0 : _l,\n            _m = props.yoyoCount,\n            yoyoCount = _m === void 0 ? 0 : _m,\n            _o = props.loopCount,\n            loopCount = _o === void 0 ? 0 : _o;\n        var playhead = vectorScrubber({ from: from, to: to, ease: ease }).start(update);\n        var currentProgress = 0;\n        var process;\n        var isActive = false;\n        var reverseAnimation = function (reverseEase) {\n            var _a;\n            if (reverseEase === void 0) {\n                reverseEase = false;\n            }\n            _a = [to, from], from = _a[0], to = _a[1];\n            playhead = vectorScrubber({ from: from, to: to, ease: ease, reverseEase: reverseEase }).start(update);\n        };\n        var isTweenComplete = function () {\n            var isComplete = isActive && elapsed > duration + repeatDelay;\n            if (!isComplete) return false;\n            if (isComplete && !loop && !flip && !yoyo) return true;\n            elapsed = duration - (elapsed - repeatDelay);\n            if (loop && loopCount < loop) {\n                loopCount++;\n                return false;\n            } else if (flip && flipCount < flip) {\n                flipCount++;\n                reverseAnimation();\n                return false;\n            } else if (yoyo && yoyoCount < yoyo) {\n                yoyoCount++;\n                reverseAnimation(yoyoCount % 2 !== 0);\n                return false;\n            }\n            return true;\n        };\n        var updateTween = function () {\n            currentProgress = clampProgress(progress(0, duration, elapsed));\n            playhead.seek(currentProgress);\n        };\n        var startTimer = function () {\n            isActive = true;\n            process = sync.update(function (_a) {\n                var delta = _a.delta;\n                elapsed += delta;\n                updateTween();\n                if (isTweenComplete()) {\n                    cancelSync.update(process);\n                    complete && sync.update(complete, false, true);\n                }\n            }, true);\n        };\n        var stopTimer = function () {\n            isActive = false;\n            if (process) cancelSync.update(process);\n        };\n        startTimer();\n        return {\n            isActive: function () {\n                return isActive;\n            },\n            getElapsed: function () {\n                return clamp(0, duration, elapsed);\n            },\n            getProgress: function () {\n                return currentProgress;\n            },\n            stop: function () {\n                stopTimer();\n            },\n            pause: function () {\n                stopTimer();\n                return this;\n            },\n            resume: function () {\n                if (!isActive) startTimer();\n                return this;\n            },\n            seek: function (newProgress) {\n                elapsed = mix(0, duration, newProgress);\n                sync.update(updateTween, false, true);\n                return this;\n            },\n            reverse: function () {\n                reverseAnimation();\n                return this;\n            }\n        };\n    });\n};\n\nvar clampProgress$1 = /*#__PURE__*/clamp(0, 1);\nvar defaultEasings = function (values, easing) {\n    return values.map(function () {\n        return easing || easeOut;\n    }).splice(0, values.length - 1);\n};\nvar defaultTimings = function (values) {\n    var numValues = values.length;\n    return values.map(function (value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n};\nvar interpolateScrubbers = function (input, scrubbers, update) {\n    var rangeLength = input.length;\n    var finalInputIndex = rangeLength - 1;\n    var finalScrubberIndex = finalInputIndex - 1;\n    var subs = scrubbers.map(function (scrub) {\n        return scrub.start(update);\n    });\n    return function (v) {\n        if (v <= input[0]) {\n            subs[0].seek(0);\n        }\n        if (v >= input[finalInputIndex]) {\n            subs[finalScrubberIndex].seek(1);\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalInputIndex) break;\n        }\n        var progressInRange = progress(input[i - 1], input[i], v);\n        subs[i - 1].seek(clampProgress$1(progressInRange));\n    };\n};\nvar keyframes = function (_a) {\n    var easings = _a.easings,\n        _b = _a.ease,\n        ease = _b === void 0 ? linear : _b,\n        times = _a.times,\n        values = _a.values,\n        tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n    easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n    times = times || defaultTimings(values);\n    var scrubbers = easings.map(function (easing, i) {\n        return vectorScrubber({\n            from: values[i],\n            to: values[i + 1],\n            ease: easing\n        });\n    });\n    return tween(__assign(__assign({}, tweenProps), { ease: ease })).applyMiddleware(function (update) {\n        return interpolateScrubbers(times, scrubbers, update);\n    });\n};\n\nvar physics = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.acceleration,\n            acceleration = _b === void 0 ? 0 : _b,\n            _c = props.friction,\n            friction = _c === void 0 ? 0 : _c,\n            _d = props.velocity,\n            velocity = _d === void 0 ? 0 : _d,\n            springStrength = props.springStrength,\n            to = props.to;\n        var _e = props.restSpeed,\n            restSpeed = _e === void 0 ? 0.001 : _e,\n            _f = props.from,\n            from = _f === void 0 ? 0 : _f;\n        var current = from;\n        var process = sync.update(function (_a) {\n            var delta = _a.delta;\n            var elapsed = Math.max(delta, 16);\n            if (acceleration) velocity += velocityPerFrame(acceleration, elapsed);\n            if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n            if (springStrength !== undefined && to !== undefined) {\n                var distanceToTarget = to - current;\n                velocity += distanceToTarget * velocityPerFrame(springStrength, elapsed);\n            }\n            current += velocityPerFrame(velocity, elapsed);\n            update(current);\n            var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n            if (isComplete) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            set: function (v) {\n                current = v;\n                return this;\n            },\n            setAcceleration: function (v) {\n                acceleration = v;\n                return this;\n            },\n            setFriction: function (v) {\n                friction = v;\n                return this;\n            },\n            setSpringStrength: function (v) {\n                springStrength = v;\n                return this;\n            },\n            setSpringTarget: function (v) {\n                to = v;\n                return this;\n            },\n            setVelocity: function (v) {\n                velocity = v;\n                return this;\n            },\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n    acceleration: number.test,\n    friction: number.test,\n    velocity: number.test,\n    from: number.test,\n    to: number.test,\n    springStrength: number.test\n});\n\nvar DEFAULT_DURATION = 300;\nvar flattenTimings = function (instructions) {\n    var flatInstructions = [];\n    var lastArg = instructions[instructions.length - 1];\n    var isStaggered = typeof lastArg === 'number';\n    var staggerDelay = isStaggered ? lastArg : 0;\n    var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n    var numSegments = segments.length;\n    var offset = 0;\n    segments.forEach(function (item, i) {\n        flatInstructions.push(item);\n        if (i !== numSegments - 1) {\n            var duration = item.duration || DEFAULT_DURATION;\n            offset = staggerDelay;\n            flatInstructions.push(\"\" + (offset - duration));\n        }\n    });\n    return flatInstructions;\n};\nvar flattenArrayInstructions = function (instructions, instruction) {\n    Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n    return instructions;\n};\nvar convertDefToProps = function (props, def, i) {\n    var duration = props.duration,\n        easings = props.easings,\n        times = props.times,\n        values = props.values;\n    var numValues = values.length;\n    var prevTimeTo = times[numValues - 1];\n    var timeFrom = def.at === 0 ? 0 : def.at / duration;\n    var timeTo = (def.at + def.duration) / duration;\n    if (i === 0) {\n        values.push(def.from);\n        times.push(timeFrom);\n    } else {\n        if (prevTimeTo !== timeFrom) {\n            if (def.from !== undefined) {\n                values.push(values[numValues - 1]);\n                times.push(timeFrom);\n                easings.push(linear);\n            }\n            var from = def.from !== undefined ? def.from : values[numValues - 1];\n            values.push(from);\n            times.push(timeFrom);\n            easings.push(linear);\n        } else if (def.from !== undefined) {\n            values.push(def.from);\n            times.push(timeFrom);\n            easings.push(linear);\n        }\n    }\n    values.push(def.to);\n    times.push(timeTo);\n    easings.push(def.ease || easeInOut);\n    return props;\n};\nvar timeline = function (instructions, _a) {\n    var _b = _a === void 0 ? {} : _a,\n        duration = _b.duration,\n        elapsed = _b.elapsed,\n        ease = _b.ease,\n        loop = _b.loop,\n        flip = _b.flip,\n        yoyo = _b.yoyo;\n    var playhead = 0;\n    var calculatedDuration = 0;\n    var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n    var animationDefs = [];\n    flatInstructions.forEach(function (instruction) {\n        if (typeof instruction === 'string') {\n            playhead += parseFloat(instruction);\n        } else if (typeof instruction === 'number') {\n            playhead = instruction;\n        } else {\n            var def = __assign(__assign({}, instruction), { at: playhead });\n            def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n            animationDefs.push(def);\n            playhead += def.duration;\n            calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n        }\n    });\n    var tracks = {};\n    var numDefs = animationDefs.length;\n    for (var i = 0; i < numDefs; i++) {\n        var def = animationDefs[i];\n        var track = def.track;\n        if (track === undefined) {\n            throw new Error('No track defined');\n        }\n        if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n        tracks[track].push(def);\n    }\n    var trackKeyframes = {};\n    for (var key in tracks) {\n        if (tracks.hasOwnProperty(key)) {\n            var keyframeProps = tracks[key].reduce(convertDefToProps, {\n                duration: calculatedDuration,\n                easings: [],\n                times: [],\n                values: []\n            });\n            trackKeyframes[key] = keyframes(__assign(__assign({}, keyframeProps), { duration: duration || calculatedDuration, ease: ease,\n                elapsed: elapsed,\n                loop: loop,\n                yoyo: yoyo,\n                flip: flip }));\n        }\n    }\n    return composite(trackKeyframes);\n};\n\nvar listen = function (element, events, options) {\n    return action(function (_a) {\n        var update = _a.update;\n        var eventNames = events.split(' ').map(function (eventName) {\n            element.addEventListener(eventName, update, options);\n            return eventName;\n        });\n        return {\n            stop: function () {\n                return eventNames.forEach(function (eventName) {\n                    return element.removeEventListener(eventName, update, options);\n                });\n            }\n        };\n    });\n};\n\nvar defaultPointerPos = function () {\n    return {\n        clientX: 0,\n        clientY: 0,\n        pageX: 0,\n        pageY: 0,\n        x: 0,\n        y: 0\n    };\n};\nvar eventToPoint = function (e, point) {\n    if (point === void 0) {\n        point = defaultPointerPos();\n    }\n    point.clientX = point.x = e.clientX;\n    point.clientY = point.y = e.clientY;\n    point.pageX = e.pageX;\n    point.pageY = e.pageY;\n    return point;\n};\n\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointsLocation = function (_a) {\n        var touches = _a.touches;\n        isTouchDevice = true;\n        var numTouches = touches.length;\n        points.length = 0;\n        for (var i = 0; i < numTouches; i++) {\n            var thisTouch = touches[i];\n            points.push(eventToPoint(thisTouch));\n        }\n    };\n    listen(document, 'touchstart touchmove', {\n        passive: true,\n        capture: true\n    }).start(updatePointsLocation);\n}\nvar multitouch = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.preventDefault,\n        preventDefault = _c === void 0 ? true : _c,\n        _d = _b.scale,\n        scale = _d === void 0 ? 1.0 : _d,\n        _e = _b.rotate,\n        rotate = _e === void 0 ? 0.0 : _e;\n    return action(function (_a) {\n        var update = _a.update;\n        var output = {\n            touches: points,\n            scale: scale,\n            rotate: rotate\n        };\n        var initialDistance = 0.0;\n        var initialRotation = 0.0;\n        var isGesture = points.length > 1;\n        if (isGesture) {\n            var firstTouch = points[0],\n                secondTouch = points[1];\n            initialDistance = distance(firstTouch, secondTouch);\n            initialRotation = angle(firstTouch, secondTouch);\n        }\n        var updatePoint = function () {\n            if (isGesture) {\n                var firstTouch = points[0],\n                    secondTouch = points[1];\n                var newDistance = distance(firstTouch, secondTouch);\n                var newRotation = angle(firstTouch, secondTouch);\n                output.scale = scale * (newDistance / initialDistance);\n                output.rotate = rotate + (newRotation - initialRotation);\n            }\n            update(output);\n        };\n        var onMove = function (e) {\n            if (preventDefault || e.touches.length > 1) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'touchmove', {\n            passive: !preventDefault\n        }).start(onMove);\n        if (isTouchDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\nvar getIsTouchDevice = function () {\n    return isTouchDevice;\n};\n\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointLocation = function (e) {\n        isMouseDevice = true;\n        eventToPoint(e, point);\n    };\n    listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\nvar mouse = function (_a) {\n    var _b = (_a === void 0 ? {} : _a).preventDefault,\n        preventDefault = _b === void 0 ? true : _b;\n    return action(function (_a) {\n        var update = _a.update;\n        var updatePoint = function () {\n            return update(point);\n        };\n        var onMove = function (e) {\n            if (preventDefault) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'mousemove').start(onMove);\n        if (isMouseDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\n\nvar getFirstTouch = function (_a) {\n    var firstTouch = _a[0];\n    return firstTouch;\n};\nvar pointer = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n        var touches = _a.touches;\n        return touches;\n    }, getFirstTouch) : mouse(props);\n};\nvar index$1 = function (_a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var x = _a.x,\n        y = _a.y,\n        props = __rest(_a, [\"x\", \"y\"]);\n    if (x !== undefined || y !== undefined) {\n        var applyXOffset_1 = applyOffset(x || 0);\n        var applyYOffset_1 = applyOffset(y || 0);\n        var delta_1 = { x: 0, y: 0 };\n        return pointer(props).pipe(function (point) {\n            delta_1.x = applyXOffset_1(point.x);\n            delta_1.y = applyYOffset_1(point.y);\n            return delta_1;\n        });\n    } else {\n        return pointer(props);\n    }\n};\n\nvar chain = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var i = 0;\n        var current;\n        var playCurrent = function () {\n            current = actions[i].start({\n                complete: function () {\n                    i++;\n                    i >= actions.length ? complete() : playCurrent();\n                },\n                update: update\n            });\n        };\n        playCurrent();\n        return {\n            stop: function () {\n                return current && current.stop();\n            }\n        };\n    });\n};\n\nvar crossfade = function (a, b) {\n    return action(function (observer) {\n        var balance = 0;\n        var fadable = parallel$1(a, b).start(__assign(__assign({}, observer), { update: function (_a) {\n                var va = _a[0],\n                    vb = _a[1];\n                observer.update(mix(va, vb, balance));\n            } }));\n        return {\n            setBalance: function (v) {\n                return balance = v;\n            },\n            stop: function () {\n                return fadable.stop();\n            }\n        };\n    });\n};\n\nvar delay = function (timeToDelay) {\n    return action(function (_a) {\n        var complete = _a.complete;\n        var timeout = setTimeout(complete, timeToDelay);\n        return {\n            stop: function () {\n                return clearTimeout(timeout);\n            }\n        };\n    });\n};\n\nvar merge = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (observer) {\n        var subs = actions.map(function (thisAction) {\n            return thisAction.start(observer);\n        });\n        return {\n            stop: function () {\n                return subs.forEach(function (sub) {\n                    return sub.stop();\n                });\n            }\n        };\n    });\n};\n\nvar schedule = function (scheduler, schedulee) {\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var latest;\n        var schedulerSub = scheduler.start({\n            update: function () {\n                return latest !== undefined && update(latest);\n            },\n            complete: complete\n        });\n        var scheduleeSub = schedulee.start({\n            update: function (v) {\n                return latest = v;\n            },\n            complete: complete\n        });\n        return {\n            stop: function () {\n                schedulerSub.stop();\n                scheduleeSub.stop();\n            }\n        };\n    });\n};\n\nvar stagger = function (actions, interval) {\n    var intervalIsNumber = typeof interval === 'number';\n    var actionsWithDelay = actions.map(function (a, i) {\n        var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n        return chain(delay(timeToDelay), a);\n    });\n    return parallel$1.apply(void 0, actionsWithDelay);\n};\n\nvar appendUnit = function (unit) {\n    return function (v) {\n        return \"\" + v + unit;\n    };\n};\nvar steps = function (st, min, max) {\n    if (min === void 0) {\n        min = 0;\n    }\n    if (max === void 0) {\n        max = 1;\n    }\n    return function (v) {\n        var current = progress(min, max, v);\n        return mix(min, max, stepProgress(st, current));\n    };\n};\nvar transformMap = function (childTransformers) {\n    return function (v) {\n        var output = __assign({}, v);\n        for (var key in childTransformers) {\n            if (childTransformers.hasOwnProperty(key)) {\n                var childTransformer = childTransformers[key];\n                output[key] = childTransformer(v[key]);\n            }\n        }\n        return output;\n    };\n};\n\nvar transformers = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    applyOffset: applyOffset,\n    clamp: clamp,\n    conditional: conditional,\n    interpolate: interpolate,\n    blendArray: mixArray,\n    blendColor: mixColor,\n    pipe: pipe,\n    smooth: smooth,\n    snap: snap,\n    generateStaticSpring: springForce,\n    nonlinearSpring: springForceExpo,\n    linearSpring: springForceLinear,\n    wrap: wrap,\n    appendUnit: appendUnit,\n    steps: steps,\n    transformMap: transformMap\n});\n\nvar css = function (element, props) {\n    warning(false, 'css() is deprecated, use styler instead');\n    return styler(element, props);\n};\nvar svg = function (element, props) {\n    warning(false, 'svg() is deprecated, use styler instead');\n    return styler(element, props);\n};\n\nexport { Action, ValueReaction, action, calc, chain, composite, crossfade, css, vectorDecay as decay, delay, frame as everyFrame, index as inertia, keyframes, listen, merge, mouse, multicast, multitouch, parallel$1 as parallel, vectorPhysics as physics, index$1 as pointer, schedule, vectorSpring as spring, stagger, svg, timeline, transformers as transform, tween, value };\n","console.log(\"this is entirely a useless file\")","import popmotion from 'popmotion'\nimport './useless'\nconst { styler,spring,listen,pointer, value } = popmotion;\n\nconst ball = document.querySelector(\".box\");\nconst divStyler = styler(ball);\nconst ballXY = value({ x: 0, y: 0 }, divStyler.set);\n\nlisten(ball, \"mousedown touchstart\").start(e => {\n  e.preventDefault();\n  pointer(ballXY.get()).start(ballXY);\n});\n\nlisten(document, \"mouseup touchend\").start(() => {\n  spring({\n    from: ballXY.get(),\n    velocity: ballXY.getVelocity(),\n    to: { x: 0, y: 0 },\n    stiffness: 200\n  }).start(ballXY);\n});","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}